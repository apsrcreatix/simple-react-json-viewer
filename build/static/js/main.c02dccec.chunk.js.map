{"version":3,"sources":["input/Input.module.css","json/Json.module.css","input/api.js","input/Input.js","utils/utils.js","json/JsonObject.js","json/Json.js","App.js","index.js"],"names":["module","exports","input","btn","form","json","subTree","key","keyEmpty","keyFoldable","keyMinus","folded","JSON","name","nested","obj","a","b","c","arr","arrObj","d","e","f","m","Input","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","handleChange","bind","assertThisInitialized","handleSubmit","onDataLoaded","onError","onLoading","inherits","createClass","event","setState","target","url","_this2","preventDefault","Promise","race","axios","get","resolve","reject","wait","setTimeout","clearTimeout","then","response","data","catch","console","log","styles","react_default","createElement","className","onSubmit","type","onChange","onClick","React","Component","isPrimitiveType","val","JsonObject","apply","arguments","isPrimitiveArray","join","map","el","i","lastElement","length","Json_Json","showComma","keysArr","keys","keyName","isLink","test","toString","href","Array","isArray","renderArray","renderPrimitive","renderObject","Json","isPrimitive","s","dotsClass","classnames","defineProperty","foldedInfo","concat","_classnames2","isFoldable","keyClass","fold","_this$props","undefined","jsonClass","renderKey","renderFoldedData","JsonObject_JsonObject","App","dataLoaded","t","error","loading","Input_Input","renderLoader","renderData","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.c02dccec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__4P5Jd\",\"btn\":\"Input_btn__38Owf\",\"form\":\"Input_form__2N2EP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"json\":\"Json_json__1ZaSu\",\"subTree\":\"Json_subTree__3Tf-Y\",\"key\":\"Json_key__3-nFS\",\"keyEmpty\":\"Json_keyEmpty__2W-Uf\",\"keyFoldable\":\"Json_keyFoldable__2c8IZ\",\"keyMinus\":\"Json_keyMinus__2Lgu4\",\"folded\":\"Json_folded__TWSoH\"};","import axios from 'axios';\n\nexport const JSON = {\n    name: 'mocked response',\n    nested: {\n        obj: {a: false, b: null, c: true},\n        arr: [1, 2, 3],\n        arrObj: [{c: 2, d: 3, e: {f: 5}}, {m: 4}]\n    }\n};\n\nfunction timeout() {\n    return new Promise((resolve, reject) => {\n        const wait = setTimeout(() => {\n            reject();\n            clearTimeout(wait)\n        }, 2000);\n    })\n}\n\nexport function request(url) {\n    return Promise.race([axios.get(url), timeout()]).then(function (response) {\n        return response.data;\n    });\n}\n","import React from 'react';\nimport {JSON, request} from './api';\nimport styles from './Input.module.css';\n\nexport class Input extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {value: 'https://api.github.com/users/cakeinpanic/repos'};\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.onDataLoaded = this.props.onDataLoaded;\n        this.onError = this.props.onError;\n        this.onLoading = this.props.onLoading;\n    }\n\n    componentDidMount() {\n        this.onDataLoaded(JSON);\n    }\n\n    handleChange(event) {\n        this.setState({value: event.target.value});\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        this.onLoading();\n        request(this.state.value)\n            .then(data => {\n                this.onDataLoaded(data);\n            })\n            .catch(() => this.onError());\n    }\n\n    render() {\n        console.log(styles);\n        return (\n            <form className={styles.form} onSubmit={this.handleSubmit}>\n                <input className={styles.input} type=\"text\" value={this.state.value} onChange={this.handleChange} />\n                <button className={styles.btn} onClick={this.handleSubmit}>\n                    Go!\n                </button>\n            </form>\n        );\n    }\n}\n","\nexport function isPrimitiveType(val){\n    return typeof val !== 'object' || val === null;\n}","import React from 'react';\nimport {isPrimitiveType} from \"../utils/utils\";\nimport {Json} from './Json';\nimport styles from './Json.module.css';\n\nexport class JsonObject extends React.Component {\n    renderArray(json) {\n        const isPrimitiveArray = typeof json[0] !== 'object';\n        const {className} = this.props;\n\n        if (isPrimitiveArray) {\n            return <span className={className}>[{json.join(', ')}]</span>;\n        }\n\n        return (\n            <span className={className}>\n                [\n                <div className={styles.json}>\n                    {json.map((el, i) => {\n                        const lastElement = i === json.length - 1;\n                        return (\n                            <span className={styles.json} key={i}>\n                                <Json json={el} showComma={!lastElement}/>\n                            </span>\n                        );\n                    })}\n                </div>\n                ]\n            </span>\n        );\n    }\n\n    renderObject(json) {\n        const keysArr = Object.keys(json);\n        const {className} = this.props;\n\n        return (\n            <span className={className}>\n                &#123;\n                <div className={styles.json}>\n                    {Object.keys(json).map((keyName, i) => {\n                        const lastElement = i === keysArr.length - 1;\n                        const el = json[keyName];\n\n                        return <Json json={el} keyName={keyName} key={i} showComma={!lastElement}/>;\n                    })}\n                </div>\n                &#125;\n            </span>\n        );\n    }\n\n    renderPrimitive(json) {\n        const {className} = this.props;\n        const isLink = /^(https?:\\/\\/[^\\s]+)/g.test(json);\n\n        if (json === null) {\n            json = 'null';\n        }\n\n        if (typeof json === 'boolean') {\n            json = json.toString();\n        }\n\n        if (isLink) {\n            return <a className={className} href={json}>{json}</a>;\n        }\n        return <span className={className}>{json}</span>;\n    }\n\n    render() {\n        const {json} = this.props;\n        debugger\n        if (Array.isArray(json)) {\n            return this.renderArray(json);\n        }\n\n        if (!isPrimitiveType(json)) {\n            return this.renderObject(json);\n        }\n\n        return this.renderPrimitive(json);\n    }\n}\n","import classnames from 'classnames';\nimport React from 'react';\nimport {isPrimitiveType} from \"../utils/utils\";\nimport styles from './Json.module.css';\nimport {JsonObject} from './JsonObject';\n\nexport class Json extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {folded: false};\n    }\n\n    fold() {\n        const foldable = !this.isPrimitive();\n        if (!foldable) {\n            return;\n        }\n        this.setState(s => ({folded: !s.folded}));\n    }\n\n    isPrimitive() {\n        const {json} = this.props;\n        return isPrimitiveType(json) || (Array.isArray(json) && isPrimitiveType(json[0]));\n    }\n\n    renderFoldedData() {\n        const {json} = this.props;\n        const {folded} = this.state;\n\n        const dotsClass = classnames({[styles.folded]: !folded});\n        console.log(dotsClass);\n        if (!json) {\n            return null;\n        }\n        const foldedInfo = Array.isArray(json) ? `Array(${json.length})` : `Object(${Object.keys(json).length})`;\n        return <span className={dotsClass}>{foldedInfo}</span>;\n    }\n\n    renderKey() {\n        const {keyName} = this.props;\n        const isFoldable = !this.isPrimitive();\n        const {folded} = this.state;\n\n        const keyClass = classnames({\n            [styles.key]: true,\n            [styles.keyMinus]: !folded,\n            [styles.keyFoldable]: isFoldable,\n            [styles.keyEmpty]: !keyName\n        });\n\n        return (\n            <span className={keyClass} onClick={this.fold.bind(this)}>\n                {keyName ? `${keyName}:` : ''}\n            </span>\n        );\n    }\n\n    render() {\n        const {json, showComma, className} = this.props;\n\n        if (json === undefined) {\n            return <span></span>;\n        }\n\n        const {folded} = this.state;\n        const jsonClass = classnames({[styles.folded]: folded});\n\n        return (\n            <div className={`${styles.json} ${className || ''}`}>\n                {this.renderKey()}\n                {this.renderFoldedData()}\n                <JsonObject className={jsonClass} json={json}/>\n                {showComma && !folded ? ',' : null}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport './App.css';\nimport {Input} from './input/Input';\nimport {Json} from \"./json/Json\";\n\n\nexport class App extends React.Component {\n    constructor() {\n        super();\n        this.state = {json: {}};\n    }\n\n    dataLoaded = t => {\n        this.setState(() => ({json: t, error: false, loading: false}));\n    };\n\n    onError = () => {\n        this.setState(() => ({json: null, error: true, loading: false}));\n    };\n\n    onLoading = () => {\n        this.setState(() => ({loading: true}));\n    };\n\n    renderData() {\n        if (this.state.loading) {\n            return null;\n        }\n\n        return this.state.error\n            ? <div className=\"error\">Error loading</div>\n            : <Json className=\"json-container\" json={this.state.json}/>;\n    }\n\n    renderLoader() {\n        if (!this.state.loading) {\n            return null;\n        }\n        return <span>Loading....</span>;\n    }\n\n    render() {\n        return (\n            <div className=\"app\">\n                <Input onDataLoaded={this.dataLoaded} onError={this.onError} onLoading={this.onLoading}/>\n                {this.renderLoader()}\n                {this.renderData()}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}